<% if user_signed_in? %>
  <!-- The Pit Wall Navbar -->
  <div data-controller="menu">
  <header class="bg-[#1a1a1a]/90 backdrop-blur-md border-b border-white/10 sticky top-0 z-50 shadow-md">
    <div class="container mx-auto px-5 py-8">
      <!-- Desktop Layout -->
      <div class="hidden md:flex md:justify-between md:items-center gap-4">
        <!-- Left: Brand -->
        <div class="flex-shrink-0">
          <%= link_to root_path, class: "group flex items-center gap-x-2" do %>
            <div class="h-7 w-2 bg-[#FF8700] transform -skew-x-12 rounded-sm group-hover:bg-white transition-all duration-300 ease-out shadow-[0_0_10px_rgba(255,135,0,0.5)] group-hover:shadow-[0_0_15px_rgba(255,255,255,0.8)]"></div>

            <span class="text-3xl font-black italic tracking-tighter leading-none text-white group-hover:text-[#FF8700] transition-colors duration-300">
              F1<span class="text-[#FF8700] group-hover:text-white transition-colors duration-300">BET</span>
            </span>
          <% end %>
        </div>

        <!-- Right: Navigation Links -->
        <nav class="flex gap-6 items-center">
          <%= link_to "Calendário", races_path, class: "text-lg hover:text-f1-yellow transition whitespace-nowrap px-3" %>
          <%= link_to "Chat", chat_path(Chat.first_or_create!), class: "text-lg hover:text-f1-yellow transition whitespace-nowrap px-3" %>

          <%= button_to "Sair", destroy_user_session_path, method: :delete, class: "text-lg hover:text-f1-yellow transition whitespace-nowrap px-3" %>
        </nav>
      </div>

      <!-- Mobile Layout -->
      <div class="md:hidden flex justify-between items-center">
         <%= link_to root_path, class: "group flex items-center gap-x-2" do %>
          <div class="h-7 w-2 bg-[#FF8700] transform -skew-x-12 rounded-sm group-hover:bg-white transition-all duration-300 ease-out shadow-[0_0_10px_rgba(255,135,0,0.5)] group-hover:shadow-[0_0_15px_rgba(255,255,255,0.8)]"></div>

          <span class="text-2xl font-black italic tracking-tighter leading-none text-white group-hover:text-[#FF8700] transition-colors duration-300">
            F1<span class="text-[#FF8700] group-hover:text-white transition-colors duration-300">BET</span>
          </span>
        <% end %>
        <button data-action="click->menu#toggle" class="focus:outline-none">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Mobile menu -->
  <nav data-menu-target="menu" class="hidden bg-[#1a1a1a]/90 backdrop-blur-md py-4 space-y-2 md:hidden border-b border-white/10">
    <div class="container mx-auto px-5 space-y-3">
      <%= link_to "Calendário", races_path, class: "block text-lg hover:text-f1-yellow transition py-1" %>
      <button class="w-full text-left text-lg hover:text-f1-yellow transition py-1">
        Chat
      </button>
      <%= button_to "Sair", destroy_user_session_path, method: :delete, class: "w-full text-left text-lg hover:text-f1-yellow transition py-1" %>
    </div>
  </nav>
  </div>
<% end %>
